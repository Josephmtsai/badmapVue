webpackJsonp([1],{132:function(t,e){},133:function(t,e){},134:function(t,e){},135:function(t,e){},136:function(t,e){},137:function(t,e){},138:function(t,e){},144:function(t,e,n){function a(t){n(137)}var s=n(6)(n(83),n(160),a,null,null);t.exports=s.exports},145:function(t,e,n){function a(t){n(138)}var s=n(6)(n(79),n(162),a,"data-v-f9f319b2",null);t.exports=s.exports},146:function(t,e,n){function a(t){n(135)}var s=n(6)(n(80),n(158),a,"data-v-7364a75f",null);t.exports=s.exports},147:function(t,e,n){function a(t){n(134)}var s=n(6)(n(81),n(156),a,"data-v-44099cd0",null);t.exports=s.exports},148:function(t,e,n){var a=n(6)(n(84),n(157),null,null,null);t.exports=a.exports},149:function(t,e,n){var a=n(6)(n(85),n(154),null,null,null);t.exports=a.exports},150:function(t,e,n){function a(t){n(132)}var s=n(6)(n(86),n(153),a,null,null);t.exports=s.exports},151:function(t,e,n){var a=n(6)(n(87),n(161),null,null,null);t.exports=a.exports},152:function(t,e,n){function a(t){n(136)}var s=n(6)(n(88),n(159),a,null,null);t.exports=s.exports},153:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-map-container"},[n("div",{ref:"vue-map",staticClass:"vue-map"}),t._v(" "),n("div",{staticClass:"vue-map-hidden"},[t._t("default")],2),t._v(" "),t._t("visible")],2)},staticRenderFns:[]}},154:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"flyaway"},[t._t("default",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2)])},staticRenderFns:[]}},155:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),n("main",[n("router-view")],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("span",[t._v("QAT Badminton Map")])])}]}},156:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.closePopup,expression:"closePopup"}],staticClass:"datepicker",style:{width:t.width+"px","min-width":t.range?"210px":"140px"}},[n("input",{ref:"input",staticClass:"input",attrs:{readonly:"",placeholder:t.innerPlaceholder},domProps:{value:t.text},on:{click:t.togglePopup,mousedown:function(t){t.preventDefault()}}}),t._v(" "),n("i",{staticClass:"input-icon",class:t.showCloseIcon?"input-icon__close":"input-icon__calendar",on:{mouseenter:t.hoverIcon,mouseleave:t.hoverIcon,click:t.clickIcon}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],ref:"calendar",staticClass:"datepicker-popup",class:{range:t.range},style:t.position},[t.range?[n("div",{staticClass:"datepicker-top"},t._l(t.ranges,function(e){return n("span",{on:{click:function(n){t.selectRange(e)}}},[t._v(t._s(e.text))])})),t._v(" "),n("calendar-panel",{staticStyle:{width:"50%","box-shadow":"1px 0 rgba(0, 0, 0, .1)"},attrs:{"end-at":t.currentValue[1],show:t.showPopup},model:{value:t.currentValue[0],callback:function(e){t.$set(t.currentValue,0,e)},expression:"currentValue[0]"}}),t._v(" "),n("calendar-panel",{staticStyle:{width:"50%"},attrs:{"start-at":t.currentValue[0],show:t.showPopup},model:{value:t.currentValue[1],callback:function(e){t.$set(t.currentValue,1,e)},expression:"currentValue[1]"}})]:[n("calendar-panel",{attrs:{show:t.showPopup},on:{select:function(e){t.showPopup=!1}},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})]],2)])},staticRenderFns:[]}},157:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value}})},staticRenderFns:[]}},158:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar"},[n("div",{staticClass:"calendar-header"},[n("a",{staticClass:"calendar__prev-icon",on:{click:function(e){t.changeYear(-1)}}},[t._v("«")]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentPanel,expression:"currentPanel === 'date'"}],staticClass:"calendar__prev-icon",on:{click:function(e){t.changeMonth(-1)}}},[t._v("‹")]),t._v(" "),n("a",{staticClass:"calendar__next-icon",on:{click:function(e){t.changeYear(1)}}},[t._v("»")]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentPanel,expression:"currentPanel === 'date'"}],staticClass:"calendar__next-icon",on:{click:function(e){t.changeMonth(1)}}},[t._v("›")]),t._v(" "),n("a",{on:{click:t.showMonths}},[t._v(t._s(t.months[t.currentMonth]))]),t._v(" "),n("a",{on:{click:t.showYears}},[t._v(t._s(t.currentYear))])]),t._v(" "),n("div",{staticClass:"calendar-content"},[n("table",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentPanel,expression:"currentPanel === 'date'"}],staticClass:"calendar-table"},[n("thead",[n("tr",t._l(t.days,function(e){return n("th",[t._v(t._s(e))])}))]),t._v(" "),n("tbody",t._l(t.dates,function(e){return n("tr",t._l(e,function(e){return n("td",{class:t.getClasses(e),attrs:{title:e.title},on:{click:function(n){t.selectDate(e)}}},[t._v(t._s(e.day))])}))}))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"years"===t.currentPanel,expression:"currentPanel === 'years'"}],staticClass:"calendar-year"},t._l(t.years,function(e){return n("a",{class:{current:t.currentYear===e},on:{click:function(n){t.selectYear(e)}}},[t._v(t._s(e))])})),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"months"===t.currentPanel,expression:"currentPanel === 'months'"}],staticClass:"calendar-month"},t._l(t.months,function(e,a){return n("a",{class:{current:t.currentMonth===a},on:{click:function(e){t.selectMonth(a)}}},[t._v(t._s(e))])}))])])},staticRenderFns:[]}},159:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-street-view-pano-container"},[n("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},160:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center col-12"},[t.loading?n("div",{staticClass:"col-12 overlay",attrs:{align:"center"}},[n("hexagon",{attrs:{size:"100px"}})],1):t._e(),t._v(" "),t.loading?t._e():n("div",{staticClass:"col-12"},[n("b-card",{attrs:{"no-block":""}},[n("b-tabs",{ref:"tabs",attrs:{small:"",card:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("b-tab",{attrs:{id:"mapTab",title:"General Map"}},[n("div",{staticClass:"col-12"},[n("b-form-fieldset",{attrs:{label:"","label-for":"checkboxes1"}},[n("div",{attrs:{role:"group",id:"checkboxes1"}},t._l(t.weekDaysOptions,function(e){return n("b-form-checkbox",{attrs:{value:e.value},model:{value:t.weekDays,callback:function(e){t.weekDays=e},expression:"weekDays"}},[t._v(t._s(e.label))])}))]),t._v(" "),n("b-form-fieldset",{attrs:{label:"","label-for":"starHourRedis1"}},[n("div",{attrs:{role:"group",id:"starHourRedis1"}},[n("b-form-radio",{attrs:{options:t.startTimeOptions},model:{value:t.selectedHour,callback:function(e){t.selectedHour=e},expression:"selectedHour"}})],1)]),t._v(" "),n("gmap-map",{staticClass:"col-12",staticStyle:{height:"800px"},attrs:{center:t.center,zoom:t.zoom,"map-type-id":"roadmap"}},[n("gmap-cluster",t._l(t.markers,function(e){return n("gmap-marker",{key:t.index,attrs:{position:e.position,clickable:!0,label:e.name},on:{click:function(n){t.showModal(e)}}})}))],1)],1)]),t._v(" "),n("b-tab",{attrs:{id:"listTab",title:"List Location Info"}},[n("b-form-fieldset",{attrs:{label:"","label-for":"checkboxes2"}},[n("div",{attrs:{role:"group",id:"checkboxes2"}},t._l(t.weekDaysOptions,function(e){return n("b-form-checkbox",{attrs:{value:e.value},model:{value:t.weekDays,callback:function(e){t.weekDays=e},expression:"weekDays"}},[t._v(t._s(e.label))])}))]),t._v(" "),n("b-form-fieldset",{attrs:{label:"","label-for":"starHourRedis"}},[n("div",{attrs:{role:"group",id:"starHourRedis"}},[n("b-form-radio",{attrs:{options:t.startTimeOptions},model:{value:t.selectedHour,callback:function(e){t.selectedHour=e},expression:"selectedHour"}})],1)]),t._v(" "),n("b-table",{attrs:{striped:"",hover:"","show-empty":"",items:t.filterBadmintonList,fields:t.badmintonFields,"sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"location",fn:function(e){return[t._v(t._s(e.value))]}},{key:"distance",fn:function(e){return[t._v(t._s(e.value))]}},{key:"weekDay",fn:function(e){return[t._v(t._s(e.value))]}},{key:"startTime",fn:function(e){return[t._v(t._s(e.value))]}},{key:"endTime",fn:function(e){return[t._v(t._s(e.value))]}},{key:"payInfo",fn:function(e){return[t._v(t._s(e.value))]}},{key:"contactName",fn:function(e){return[t._v(t._s(e.value))]}},{key:"contactPhone",fn:function(e){return[t._v(t._s(e.value))]}},{key:"line",fn:function(e){return[t._v(t._s(e.value))]}}])})],1)],1)],1),t._v(" "),n("b-modal",{ref:"modal",attrs:{title:"Location",size:"lg"},on:{ok:t.closeModal}},[n("b-table",{attrs:{striped:"",hover:"","show-empty":"",items:t.selectedBadmintonInfo,fields:t.badmintonSelectedFields,"sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"location",fn:function(e){return[t._v(t._s(e.value))]}},{key:"weekDay",fn:function(e){return[t._v(t._s(e.value))]}},{key:"startTime",fn:function(e){return[t._v(t._s(e.value))]}},{key:"endTime",fn:function(e){return[t._v(t._s(e.value))]}},{key:"payInfo",fn:function(e){return[t._v(t._s(e.value))]}},{key:"contactName",fn:function(e){return[t._v(t._s(e.value))]}},{key:"contactPhone",fn:function(e){return[t._v(t._s(e.value))]}},{key:"line",fn:function(e){return[t._v(t._s(e.value))]}}])})],1)],1)])},staticRenderFns:[]}},161:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("span",{domProps:{textContent:t._s(t.label)}}),t._v(" "),n("input",{ref:"input",class:t.className,attrs:{type:"text",placeholder:t.placeholder}})])},staticRenderFns:[]}},162:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner spinner--hexagon",style:t.styles},[n("div",{staticClass:"spinner-inner",style:t.innerStyles},[t._m(0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"hexagon-container"},[n("li",{staticClass:"hexagon hex_1"}),t._v(" "),n("li",{staticClass:"hexagon hex_2"}),t._v(" "),n("li",{staticClass:"hexagon hex_3"}),t._v(" "),n("li",{staticClass:"hexagon hex_4"}),t._v(" "),n("li",{staticClass:"hexagon hex_5"}),t._v(" "),n("li",{staticClass:"hexagon hex_6"}),t._v(" "),n("li",{staticClass:"hexagon hex_7"})])}]}},55:function(t,e,n){"use strict";var a=n(24),s=n(163),o=n(144),i=n.n(o);a.a.use(s.a),e.a=new s.a({routes:[{path:"/",name:"map",component:i.a},{path:"/map",name:"map",component:i.a}]})},57:function(t,e){},58:function(t,e){},60:function(t,e,n){function a(t){n(133)}var s=n(6)(n(82),n(155),a,null,null);t.exports=s.exports},78:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(24),s=n(60),o=n.n(s),i=n(55),r=n(56),l=n(58),c=(n.n(l),n(57)),u=(n.n(c),n(39)),d=n.n(u),h=n(59),f=n.n(h);a.a.config.productionTip=!1,a.a.use(f.a,d.a),a.a.use(r.a),new a.a({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},79:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{default:"40px"}},computed:{innerStyles:function(){return{transform:"scale("+parseInt(this.size)/164+")"}},styles:function(){return{width:this.size,height:this.size}}}}},80:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{startAt:null,endAt:null,value:null,show:Boolean},data:function(){var t=this.$parent.translation;return{days:t.days,months:t.months,dates:[],now:new Date,years:[],currentPanel:"date"}},computed:{currentYear:function(){return this.now.getFullYear()},currentMonth:function(){return this.now.getMonth()}},created:function(){this.updateCalendar()},watch:{show:function(t){t&&(this.currentPanel="date",this.updateNow())},value:{handler:"updateNow",immediate:!0},now:"updateCalendar"},methods:{updateNow:function(){var t=this.value?new Date(this.value):new Date;t.setDate(1),this.now=t},updateCalendar:function(){function t(t,e,n,a){return Array.apply(null,{length:n}).map(function(n,s){var o=e+s,i=new Date(t.getFullYear(),t.getMonth(),o);return{title:i.toLocaleDateString(),date:i,day:o,classes:a}})}var e=new Date(this.now);e.setDate(0);var n=e.getDay()+1,a=e.getDate()-(n-1),s=t(e,a,n,"lastMonth");e.setMonth(e.getMonth()+2,0);var o=e.getDate(),i=t(e,1,o,"curMonth");e.setMonth(e.getMonth()+1,1);for(var r=42-(n+o),l=t(e,1,r,"nextMonth"),c=0,u=0,d=s.concat(i,l),h=new Array(6);c<42;)h[u++]=d.slice(c,c+=7);this.dates=h},getClasses:function(t){var e=[],n=t.date.getTime(),a=this.value?new Date(this.value).setHours(0,0,0,0):0,s=this.startAt?new Date(this.startAt).setHours(0,0,0,0):0,o=this.endAt?new Date(this.endAt).setHours(0,0,0,0):0,i=(new Date).setHours(0,0,0,0);return e.push(t.classes),n===i&&e.push("today"),n===a?e.push("current"):s?n<s?e.push("disabled"):a&&n<=a&&e.push("inrange"):o&&(n>o?e.push("disabled"):a&&n>=a&&e.push("inrange")),e.join(" ")},showMonths:function(){"months"===this.currentPanel?this.currentPanel="date":this.currentPanel="months"},showYears:function(){if("years"===this.currentPanel)this.currentPanel="date";else{for(var t=10*Math.floor(this.now.getFullYear()/10),e=[],n=0;n<10;n++)e.push(t+n);this.years=e,this.currentPanel="years"}},changeYear:function(t){if("years"===this.currentPanel)this.years=this.years.map(function(e){return e+10*t});else{var e=new Date(this.now);e.setFullYear(e.getFullYear()+t),this.now=e}},changeMonth:function(t){var e=new Date(this.now);e.setMonth(e.getMonth()+t),this.now=e},selectDate:function(t){-1===this.getClasses(t).indexOf("disabled")&&(this.$emit("input",t.date),this.$emit("select"))},selectYear:function(t){var e=new Date(this.now);e.setFullYear(t),this.now=e,this.currentPanel="months"},selectMonth:function(t){var e=new Date(this.now);e.setMonth(t),this.now=e,this.currentPanel="date"}}}},81:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(45),s=n.n(a),o=n(146),i=n.n(o),r=n(165);e.default={components:{CalendarPanel:i.a},props:{format:{type:String,default:"yyyy-MM-dd"},range:{type:Boolean,default:!1},width:{type:[String,Number],default:210},placeholder:String,lang:{type:String,default:"zh"},value:null},data:function(){return{showPopup:!1,showCloseIcon:!1,currentValue:this.value,position:null,ranges:[]}},watch:{value:{handler:function(t){this.range?this.currentValue=this.isValidRange(t)?t:[void 0,void 0]:this.currentValue=this.isValidDate(t)?t:void 0},immediate:!0},currentValue:function(t){(!this.range&&t||this.range&&t[0]&&t[1])&&this.$emit("input",t)},showPopup:function(t){t&&this.$nextTick(this.displayPopup)}},computed:{translation:function(){return r.a[this.lang]||r.a.en},innerPlaceholder:function(){return this.placeholder||(this.range?this.translation.placeholder.dateRange:this.translation.placeholder.date)},text:function(){return!this.range&&this.currentValue?this.stringify(this.currentValue):this.range&&this.currentValue[0]&&this.currentValue[1]?this.stringify(this.currentValue[0])+" ~ "+this.stringify(this.currentValue[1]):""}},methods:{selectDate:function(t){},closePopup:function(){this.showPopup=!1},togglePopup:function(){this.showPopup?(this.$refs.input.blur(),this.showPopup=!1):(this.$refs.input.focus(),this.showPopup=!0)},hoverIcon:function(t){"mouseenter"===t.type&&this.text&&(this.showCloseIcon=!0),"mouseleave"===t.type&&(this.showCloseIcon=!1)},clickIcon:function(){this.showCloseIcon?this.$emit("input",""):this.togglePopup()},formatDate:function(t,e){var n={"M+":t.getMonth()+1,"[Dd]+":t.getDate(),"[Hh]+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()},a=e.replace(/[Yy]+/g,function(e){return(""+t.getFullYear()).slice(4-e.length)});return s()(n).forEach(function(t){a=a.replace(new RegExp(t),function(e){var a=""+n[t];return 1===e.length?a:("00"+a).slice(a.length)})}),a},stringify:function(t){return this.formatDate(new Date(t),this.format)},isValidDate:function(t){return!!new Date(t).getTime()},isValidRange:function(t){return Array.isArray(t)&&2===t.length&&this.isValidDate(t[0])&&this.isValidDate(t[1])},selectRange:function(t){this.$emit("input",[t.start,t.end])},initRanges:function(){var t=this;this.ranges=[{text:"未来7天",start:new Date,end:new Date(Date.now()+6048e5)},{text:"未来30天",start:new Date,end:new Date(Date.now()+2592e6)},{text:"最近7天",start:new Date(Date.now()-6048e5),end:new Date},{text:"最近30天",start:new Date(Date.now()-2592e6),end:new Date}],this.ranges.forEach(function(e,n){e.text=t.translation.pickers[n]})},displayPopup:function(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,n=this.$el.getBoundingClientRect(),a=this.$refs.calendar.getBoundingClientRect();this.position={},t-n.left<a.width&&n.right<a.width?this.position.left=1-n.left+"px":n.left+n.width/2<=t/2?this.position.left=0:this.position.right=0,n.top<=a.height+1&&e-n.bottom<=a.height+1?this.position.top=e-n.top-a.height-1+"px":n.top+n.height/2<=e/2?this.position.top="100%":this.position.bottom="100%"}},created:function(){this.initRanges()},directives:{clickoutside:{bind:function(t,e,n){t["@clickoutside"]=function(a){!t.contains(a.target)&&e.expression&&n.context[e.expression]&&e.value()},document.addEventListener("click",t["@clickoutside"],!0)},unbind:function(t){document.removeEventListener("click",t["@clickoutside"],!0)}}}}},82:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},83:function(t,e,n){"use strict";function a(){return u.a.get("https://qatbadmap.herokuapp.com/api/badmintoninfolist")}function s(){return u.a.get("https://qatbadmap.herokuapp.com/api/locationinfolist")}function o(t,e,n,a){var s=i(n-t),o=i(a-e),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i(t))*Math.cos(i(n))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),c=6371*l;return Math.round(1e3*c)/1e3}function i(t){return t*(Math.PI/180)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),l=n(172),c=(n.n(l),n(39)),u=n.n(c),d=n(145),h=n.n(d),f=n(147),p=n.n(f);r.a.use(l,{load:{key:"AIzaSyBW6jkW1QIMpjw5SUIytKmuQ40emkWLgM8",v:"3"}}),e.default={data:function(){return{center:{lat:25.079613,lng:121.556082},defaultLocation:{lat:25.079613,lng:121.556082},zoom:15,tabIndex:0,markers:[],locationList:[],badmintonList:[],errorMsg:"",selected:"",matchLocation:[],loading:!0,selectedBadmintonInfo:[],filterBadmintonList:[],sortBy:null,sortDesc:!1,badmintonFields:{location:{label:"地點",sortable:!0},distance:{label:"距離(KM)",sortable:!0},weekDay:{label:"禮拜幾",sortable:!0},startTime:{label:"開始時間",sortable:!0},endTime:{label:"結束時間",sortable:!0},payInfo:{label:"金額",sortable:!0,class:"text-center"},contactName:{label:"聯絡人"},contactPhone:{label:"電話",sortable:!0,class:"text-center"},line:{label:"Line",sortable:!0,class:"text-center"}},badmintonSelectedFields:{location:{label:"地點",sortable:!0},weekDay:{label:"禮拜幾",sortable:!0},startTime:{label:"開始時間",sortable:!0},endTime:{label:"結束時間",sortable:!0},payInfo:{label:"金額",sortable:!0,class:"text-center"},contactName:{label:"聯絡人"},contactPhone:{label:"電話",sortable:!0,class:"text-center"},line:{label:"Line",sortable:!0,class:"text-center"}},selectedHour:"",startTimeOptions:[{text:"All Day",value:""},{text:"到中午十二點",value:"12"},{text:"中午到下午六點",value:"18"},{text:"六點後",value:"24"}],dateTimeRange:[],todayWeekday:0,weekDays:[],weekDaysOptions:[{label:"星期日",value:0},{label:"星期一",value:1},{label:"星期二",value:2},{label:"星期三",value:3},{label:"星期四",value:4},{label:"星期五",value:5},{label:"星期六",value:6}]}},created:function(){var t=this,e=new Date;t.todayWeekday=e.getDay(),t.getLocation(),t.weekDays.push(t.todayWeekday),t.weekDays.push(t.todayWeekday+1>6?0:t.todayWeekday+1),u.a.all([a(),s()]).then(u.a.spread(function(e,n){t.badmintonList=e.data,t.locationList=n.data,t.badmintonList.forEach(function(e){e.distance=o(t.defaultLocation.lat,t.defaultLocation.lng,e.position.lat,e.position.lng)}),t.loading=!1,t.updateMap()}))},watch:{selected:function(t){this.markers=this.badmintonList.filter(function(e){return""===t||e.location===t}),this.center=this.markers[0].position},weekDays:function(t){this.updateMap()},selectedHour:function(t){this.updateMap()}},methods:{updateMap:function(){var t=this;this.filterBadmintonList=this.badmintonList.filter(function(e){return-1!==t.weekDays.indexOf(e.weekDayInt)}),this.filterBadmintonList=this.filterBadmintonList.filter(function(e){return""===t.selectedHour||e.startHour<parseInt(t.selectedHour)&&e.startHour>parseInt(t.selectedHour)-6});var e=this.locationList.filter(function(e){return t.filterBadmintonList.filter(function(t){return e.name===t.location}).length>0});this.markers=e},closeModal:function(t){return t.cancel()},showModal:function(t){this.selectedBadmintonInfo=this.filterBadmintonList.filter(function(e){return t.name===e.location}),this.$refs.modal.show()},showTodayInfo:function(){var t=this;this.markers=this.badmintonList.filter(function(e){return e.weekDayInt===t.todayWeekday}),this.center=this.markers[0].position},getLocation:function(){var t=this;return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.defaultLocation={lat:e.coords.latitude,lng:e.coords.longitude}}):(console.log("Geolocation is not supported by this browser."),{lat:25.079613,lng:121.556082})}},components:{Hexagon:h.a,DatePicker:p.a}}}},[78]);
//# sourceMappingURL=app.d904d8db636b7813a280.js.map